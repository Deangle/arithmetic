<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script>
      /*
        给出一个区间的集合，请合并所有重叠的区间。
  
        示例 1:
  
        输入: intervals = [[1,3],[2,6],[8,10],[15,18]]
        输出: [[1,6],[8,10],[15,18]]
        解释: 区间 [1,3] 和 [2,6] 重叠, 将它们合并为 [1,6].
        
        示例 2:
  
        输入: intervals = [[1,4],[4,5]]
        输出: [[1,5]]
        解释: 区间 [1,4] 和 [4,5] 可被视为重叠区间。
        注意：输入类型已于2019年4月15日更改。 请重置默认代码定义以获取新方法签名。
    */

      /**
       * 提示 intervals[i][0] <= intervals[i][1]
       * @param {number[][]} intervals
       * @return {number[][]}
       */
      /*
      整体思路：将数组内的每个数组进行排序，将左数组的右边界和右数组的左边界进行比较
      如果右边界大于左边界，通过 Math.max 将后一项的右边界变成前一项的右边界
      否则就将当前数组添加到 ans 中，下一次继续进行比较
    */
      var merge = function (intervals) {
        if (!intervals || !intervals.length) return [];
        intervals.sort((a, b) => a[0] - b[0]);
        let ans = [intervals[0]];
        for (let i = 0, len = intervals.length; i < len; i++) {
          if (ans[ans.length - 1][1] >= intervals[i][0]) {
            ans[ans.length - 1][1] = Math.max(
              ans[ans.length - 1][1],
              intervals[i][1]
            );
          } else {
            ans.push(intervals[i]);
          }
        }
        return ans;
      };

      console.log(
        merge([
          [1, 4],
          [4, 5],
        ])
      );
      console.log(
        merge([
          [1, 3],
          [2, 6],
          [8, 10],
          [15, 18],
        ])
      );
    </script>
  </body>
</html>
