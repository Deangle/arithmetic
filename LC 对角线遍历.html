<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script>
      /*
      给定一个含有 M x N 个元素的矩阵（M 行，N 列），请以对角线遍历的顺序返回这个矩阵中的所有元素

      示例:

      输入:
      [
      [ 1, 2, 3 ],
      [ 4, 5, 6 ],
      [ 7, 8, 9 ]
      ]

      输出:  [1,2,4,7,5,3,6,8,9]

    */
      /**
       * @param {number[][]} matrix
       * @return {number[]}
       */
      // 移动方向只有左下到右上，右上到左下两种
      // 制定边界，触碰就转向
      var findDiagonalOrder = function (matrix) {
        if (!matrix.length) return [];
        let l_row = matrix.length - 1,
          l_col = matrix[0].length - 1,
          row = 0,
          col = 0,
          is_up = true, // 控制移动的方向
          fun = (res) => {
            res.push(matrix[row][col]);
            if (row === l_row && col === l_col) return res;
            if (is_up) { // 左下到右上
              if (col < l_col && row > 0) { // 判断是否触碰到边界
                col++;
                row--;
              } else {
                is_up = !is_up; // 转向
                col < l_col ? col++ : row++;
              }
            } else { // 右上到左下
              if (col > 0 && row < l_row) { // 判断是否触碰到边界
                col--;
                row++;
              } else {
                is_up = !is_up; // 转向
                row < l_row ? row++ : col++;
              }
            }
            return fun(res); // 递归
          };

        return fun([]);
      };

      console.log(
        findDiagonalOrder([
          [1, 2, 3],
          [4, 5, 6],
          [7, 8, 9],
        ])
      );
    </script>
  </body>
</html>
